<!DOCTYPE html>
<html lang="es">
<head>
    <title>Paypal + NUVEI</title>
    <link rel="icon" href="https://docs.nuvei.com/wp-content/themes/manual-child/img/favicons/cropped-favicon-nuvei-32x32.png" sizes="32x32">
    <meta charset="UTF-8">
    <meta name="title" content="Test Nuvei">
    <meta name="description" content="DescripciÃ³n de la WEB">
    <script src="https://www.paypal.com/sdk/js?client-id=AXsloLh0BwpApDZGmfOdWKiTxlyHi4dLQ63gpsHK1Son0cXtq657wRakklBo29Ja6XKuuih3W3YlVD0r"></script>
    <body>
        <div id="paypal-button-container"></div>
    <script>
paypal.Buttons({
  createOrder: function(data, actions) {
    return fetch("/.netlify/functions/create-nuvei-order", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ amount: 100, currency: "USD" })
    })
    .then(res => res.json())
    .then(data => {
      if (data.redirectUrl) {
        //window.location.href = data.redirectUrl; // Redirige a Nuvei/PayPal
        //return; // No devuelvas nada a PayPal
      }
      throw new Error("No se obtuvo redirectUrl de Nuvei");
    });
  }
}).render('#paypal-button-container');



    </script>
    </body>  
</html>

